"use strict";(self["webpackChunkharmony_transfer"]=self["webpackChunkharmony_transfer"]||[]).push([[691],{56691:function(e,a,l){l.r(a),l.d(a,{default:function(){return ae}});l(62953);var t=l(95976),n=l(29746),o=l(10160),r={class:"main"},s={class:"field_wrap"},i={class:"_flex-center"},u={class:"field_wrap"},v={class:"_flex-end input_box"},c={class:"input_cont"},d={class:"tip_text"},p={class:"field_wrap"},f={class:"remark_list _flex"},m=["onClick"],k={class:"btn_wrap"},y={class:"tip_wrap"},h={class:"picker_item"},_={class:"_fz16 _blue"},C={class:"_fz12 _grey _marginTop8"},P={class:"pop_cont"},b={class:"pop_info _fz14 text-center"},g={class:"_marginBottom8"},T={class:"_fz16 UncommonShow"},L={class:"_marginBottom8"},B={class:"_marginBottom8 _fz30"},N={class:"_marginBottom8"},w={class:"_marginBottom8 _red _fw600"},F={class:"code_info"},A={class:"_flex-center"},I={class:"pop_text"},x={class:"code_box"},S={class:"pop_btn"},R={class:"pop_textBtn"},W={class:"authType_pop"},K=["onClick"],E={class:"_fz16"},U={class:"_paddingLeft8"},D={class:"_padding1520 _marginBottom8"},V={class:"_padding1520 _marginBottom8"};function z(e,a,z,M,O,G){var $=(0,t.g2)("van-icon"),Q=(0,t.g2)("van-field"),q=(0,t.g2)("van-image"),X=(0,t.g2)("van-button"),Y=(0,t.g2)("van-picker"),Z=(0,t.g2)("van-popup"),J=(0,t.g2)("van-password-input"),j=(0,t.g2)("van-dialog"),H=(0,t.g2)("van-checkbox"),ee=(0,t.g2)("content-box");return(0,t.uX)(),(0,t.Wv)(ee,{class:"container",title:"账号转账",isBlockLeftEvent:!0,onClickLeft:M.goBack},{default:(0,t.k6)(()=>[(0,t.Lk)("div",r,[(0,t.Lk)("fieldset",s,[a[24]||(a[24]=(0,t.Lk)("legend",{class:"field_label"},"转给",-1)),(0,t.bF)(Q,{id:"PayeeAcName",label:"收 款 人",placeholder:"请输入收款人户名",modelValue:M.payeeInfo.PayeeAcName,"onUpdate:modelValue":[a[2]||(a[2]=e=>M.payeeInfo.PayeeAcName=e),a[3]||(a[3]=e=>M.updateInput("PayeeAcName",e))]},{extra:(0,t.k6)(()=>[(0,t.Lk)("div",i,[(0,t.Lk)("div",{class:"_marginRight8 _fz12 _blue",onClick:a[0]||(a[0]=function(){return M.makeKeyboardShow&&M.makeKeyboardShow(...arguments)})}," 生僻字 "),(0,t.bF)($,{name:"manager",color:"#0f8bdf",size:"20",onClick:a[1]||(a[1]=e=>M.toContactList())})])]),_:1},8,["modelValue"]),(0,t.bF)(Q,{modelValue:M.payeeInfo.PayeeAcNo,"onUpdate:modelValue":[a[4]||(a[4]=e=>M.payeeInfo.PayeeAcNo=e),a[6]||(a[6]=e=>M.updateInput("PayeeAcNo",e))],label:"收款账户",placeholder:"请输入收款人账户","right-icon":"photo","error-message":M.errorMsg,onBlur:a[5]||(a[5]=e=>M.checkPayeeAcNo()),onClickRightIcon:M.toCamera},null,8,["modelValue","error-message","onClickRightIcon"]),(0,t.bo)((0,t.bF)(Q,{modelValue:M.payeeBankName,"onUpdate:modelValue":a[7]||(a[7]=e=>M.payeeBankName=e),label:"收款银行","right-icon":"arrow",readonly:"",onClick:a[8]||(a[8]=e=>M.toBankList())},null,8,["modelValue"]),[[n.aG,M.showBank||M.payeeInfo.PayeeBankName||M.payeeInfo.BankName]])]),(0,t.Lk)("fieldset",u,[a[26]||(a[26]=(0,t.Lk)("legend",{class:"field_label"},"转账金额",-1)),(0,t.bF)(Q,{class:"amount_input",modelValue:M.amount,"onUpdate:modelValue":[a[9]||(a[9]=e=>M.amount=e),M.changeAmount],label:"￥","label-width":"24",error:M.showTip,maxlength:"13",type:"number",placeholder:"请输入转账金额",onBlur:M.checkAmount,onFocus:M.checkAmount},{extra:(0,t.k6)(()=>[(0,t.bo)((0,t.Lk)("div",{class:"unit_tip"},(0,o.v_)(M.currentUnit),513),[[n.aG,M.currentUnit]])]),_:1},8,["modelValue","error","onBlur","onFocus","onUpdate:modelValue"]),(0,t.bF)(Q,{label:"付款账户",placeholder:"请选择付款账户","right-icon":"arrow",readonly:"",onClick:a[10]||(a[10]=e=>M.toAccountList())},{input:(0,t.k6)(()=>{var e;return[(0,t.Lk)("div",v,[(0,t.Lk)("div",c,[(0,t.Lk)("p",null,(0,o.v_)(M.payerInfo.aliasName)+" ("+(0,o.v_)(null===(e=M.payerInfo.id)||void 0===e?void 0:e.slice(-4))+")",1),(0,t.Lk)("p",null,[a[25]||(a[25]=(0,t.eW)(" 余额 ",-1)),(0,t.Lk)("span",{class:(0,o.C4)({_blue:!M.showTip,_red:M.showTip})},(0,o.v_)(M.payerInfo.balance||"--"),3)])]),(0,t.bF)(q,{width:"40",fit:"contain",src:l(80014)},null,8,["src"])])]}),_:1})]),(0,t.bo)((0,t.Lk)("p",d,[...a[27]||(a[27]=[(0,t.Lk)("span",{class:"_red"},"可用余额不足，",-1),(0,t.eW)("请选择其他转出卡 ",-1)])],512),[[n.aG,M.showTip]]),(0,t.Lk)("fieldset",p,[(0,t.bF)(Q,{class:"type_input",modelValue:M.transferTypeName,"onUpdate:modelValue":a[11]||(a[11]=e=>M.transferTypeName=e),label:"转账方式",placeholder:"请选择到账方式","error-message":M.transferDesc,"right-icon":"arrow",readonly:"",onClick:a[12]||(a[12]=e=>M.showPicker("transferType"))},null,8,["modelValue","error-message"]),(0,t.Lk)("div",null,[(0,t.bF)(Q,{modelValue:M.attachInfo,"onUpdate:modelValue":a[13]||(a[13]=e=>M.attachInfo=e),label:"附言",placeholder:"请输入转账附言"},null,8,["modelValue"]),(0,t.Lk)("ul",f,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(M.remarkList,e=>((0,t.uX)(),(0,t.CE)("li",{class:"remark_item _fz14",key:e.text,onClick:a=>M.selectRemark(e)},(0,o.v_)(e.text),9,m))),128))])])]),(0,t.Lk)("div",k,[(0,t.bF)(X,{disabled:!M.nextFlag||M.protection,type:"primary",large:"",block:"",onClick:M.nextEvent},{default:(0,t.k6)(()=>[...a[28]||(a[28]=[(0,t.eW)(" 下一步 ",-1)])]),_:1},8,["disabled","onClick"])]),(0,t.Lk)("div",y,[a[34]||(a[34]=(0,t.Lk)("p",null,"转账温馨提示：",-1)),(0,t.Lk)("p",null,[a[29]||(a[29]=(0,t.eW)(" 1.“普通”转账方式将根据您的转账金额自动处理；工作日，",-1)),(0,t.Lk)("span",null,(0,o.v_)(Number(M.ibpsTrsLimit).toFixed(2)),1),a[30]||(a[30]=(0,t.eW)("元及以下金额，实时处理；",-1)),(0,t.Lk)("span",null,(0,o.v_)(Number(M.ibpsTrsLimit).toFixed(2)),1),a[31]||(a[31]=(0,t.eW)("元以上金额，于9:00-17:00处理；到账时间取决于收款方银行处理时间；周末及法定节假日，50万元及以下金额，实时处理；50万元以上金额，于法定工作日9:00-17:00处理，具体以人行系统时间为准，当日到账。 ",-1))]),(0,t.Lk)("p",null,[a[32]||(a[32]=(0,t.eW)(" 2.“实时”转账方式仅支持",-1)),(0,t.Lk)("span",null,(0,o.v_)(Number(M.ibpsTrsLimit).toFixed(2)),1),a[33]||(a[33]=(0,t.eW)("元及以下金额，7X24小时处理，实时转账。部分银行不在收款方开户银行列表中，请联系收款方银行，确认该银行是否开通实时结算。 ",-1))]),a[35]||(a[35]=(0,t.Lk)("p",null,"3.转账成功后若短信通知收款人，我行暂不收取短信通知费。",-1)),a[36]||(a[36]=(0,t.Lk)("p",null," 4.贷款资金不能用于购房、投资、理财、同名转账等相关交易，如果有这种情况，交易将被拦截。 ",-1)),a[37]||(a[37]=(0,t.Lk)("p",null,[(0,t.eW)(" 5.为了您的资金安全，请勿轻易向"),(0,t.Lk)("span",{class:"_red"},"陌生人"),(0,t.eW)("转账汇款，不要轻信"),(0,t.Lk)("span",{class:"_red"},"陌生人"),(0,t.eW)("通过网络、电话、短信等方式告知的信息，"),(0,t.Lk)("span",{class:"_red"},"谨防电信网络诈骗"),(0,t.eW)("。 ")],-1))])]),(0,t.bF)(Z,{show:M.isShowPicker,"onUpdate:show":a[15]||(a[15]=e=>M.isShowPicker=e),position:"bottom","close-on-popstate":"","close-on-click-overlay":""},{default:(0,t.k6)(()=>[(0,t.bF)(Y,{title:M.pickerTtl,"columns-field-names":M.pickerColumnName,columns:M.pickerColumn,"item-height":"70",onConfirm:M.onConfirm,onCancel:a[14]||(a[14]=e=>M.isShowPicker=!1)},{option:(0,t.k6)(e=>[(0,t.Lk)("div",h,[(0,t.Lk)("div",_,(0,o.v_)(e.title),1),(0,t.Lk)("div",C,(0,o.v_)(e.desc),1)])]),_:1},8,["title","columns-field-names","columns","onConfirm"])]),_:1},8,["show"]),(0,t.bF)(Z,{show:M.showConfirmPop,"onUpdate:show":a[18]||(a[18]=e=>M.showConfirmPop=e),round:"",closeable:"","close-on-popstate":"","close-on-click-overlay":"",onClickCloseIcon:M.closePop},{default:(0,t.k6)(()=>{var l;return[(0,t.Lk)("div",P,[a[39]||(a[39]=(0,t.Lk)("div",{class:"pop_ttl"},"信息认证",-1)),(0,t.Lk)("div",b,[(0,t.Lk)("p",g,[(0,t.Lk)("span",T,(0,o.v_)(M.payeeInfo.PayeeAcName),1),(0,t.eW)(" ("+(0,o.v_)(M.payeeInfo.PayeeBankName)+") ",1)]),(0,t.Lk)("p",L,(0,o.v_)(M.payeeInfo.PayeeAcNo),1),(0,t.Lk)("p",B," ￥"+(0,o.v_)(e.$filters.formatAmount(M.amount)),1),(0,t.Lk)("p",N," 人民币 "+(0,o.v_)(e.$filters.amountFormatWords(M.amount)),1),(0,t.Lk)("p",w,[(0,t.bF)($,{name:"warning",size:"18"}),(0,t.eW)(" 到帐方式："+(0,o.v_)(M.transferTypeName),1)])]),(0,t.bo)((0,t.Lk)("div",F,[(0,t.Lk)("div",A,[(0,t.Lk)("div",I," 已向您手机号“"+(0,o.v_)(null===(l=M.netBankLoginInfo)||void 0===l?void 0:l.MobilePhone.slice(-4))+"”发送短信验证码(1分钟有效) ",1),(0,t.bF)(X,{class:"code_btn",size:"small",type:"primary",disabled:M.countdown>0,onClick:M.getCode},{default:(0,t.k6)(()=>[(0,t.eW)((0,o.v_)(M.countdown>0?"重新获取(".concat(M.countdown,")s"):"重新获取"),1)]),_:1},8,["disabled","onClick"])]),(0,t.Lk)("div",x,[(0,t.bF)(Q,{class:"code_input",modelValue:M.verifyCode,"onUpdate:modelValue":a[16]||(a[16]=e=>M.verifyCode=e),type:"digit"},null,8,["modelValue"]),(0,t.bF)(J,{class:"pwd_input",ref:"pwdRef",value:M.verifyCode,mask:!1,length:"6",inputmode:"none"},null,8,["value"])])],512),[[n.aG,"1"==M.authType||"4"==M.authType]]),(0,t.Lk)("div",S,[(0,t.bo)((0,t.bF)(X,{disabled:!M.verifyFlag,type:"primary",large:"",block:"",onClick:M.validateCode},{default:(0,t.k6)(()=>[(0,t.eW)((0,o.v_)("4"==M.authType?"输入UKEY密码":"输入卡密"),1)]),_:1},8,["disabled","onClick"]),[[n.aG,"1"==M.authType||"4"==M.authType]]),(0,t.bo)((0,t.bF)(X,{disabled:!M.canSubmit,type:"primary",large:"",block:"",onClick:M.getPwdKbd},{default:(0,t.k6)(()=>[(0,t.eW)((0,o.v_)("3"==M.authType?"输入UKEY密码":"手机证书"),1)]),_:1},8,["disabled","onClick"]),[[n.aG,"3"==M.authType||"sf"==M.authType]])]),(0,t.bo)((0,t.Lk)("div",R,[(0,t.bF)(X,{class:"textBtn",onClick:a[17]||(a[17]=e=>M.showPicker("authType"))},{default:(0,t.k6)(()=>[...a[38]||(a[38]=[(0,t.eW)(" 变更认证方式 ",-1)])]),_:1})],512),[[n.aG,"1"!=M.authType]])])]}),_:1},8,["show","onClickCloseIcon"]),(0,t.bF)(Z,{show:M.isShowAuthType,"onUpdate:show":a[19]||(a[19]=e=>M.isShowAuthType=e),round:"",closeable:"","close-on-popstate":"","close-on-click-overlay":"",onClickCloseIcon:a[20]||(a[20]=e=>M.isShowAuthType=!1)},{default:(0,t.k6)(()=>[(0,t.Lk)("div",W,[a[40]||(a[40]=(0,t.Lk)("p",{class:"pop_ttl"},"请选择认证方式",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(M.authTypeList,e=>{var a,l,r,s,i,u;return(0,t.uX)(),(0,t.CE)("div",{class:"picker_auth_item",key:e.value,onClick:a=>M.selectAuthType(e)},[(0,t.Lk)("div",E,[(0,t.bF)($,{class:"",name:e.value==M.authType?"checked":"circle",color:e.value==M.authType?"#0f8bdf":"#333",size:"20"},null,8,["name","color"]),(0,t.Lk)("span",U,(0,o.v_)(e.name),1)]),(0,t.bo)((0,t.Lk)("div",{class:"_red"},(0,o.v_)("1"==(null===(a=M.userData)||void 0===a?void 0:a.CertState)?"去安装":"2"==(null===(l=M.userData)||void 0===l?void 0:l.CertState)?"去解锁":"3"==(null===(r=M.userData)||void 0===r?void 0:r.CertState)?"去更新":""),513),[[n.aG,"sf"==e.value&&!e.isValid]]),(0,t.bo)((0,t.Lk)("div",{class:"desc_text _fz12 _red"},(0,o.v_)(e.isOpen?"1"==(null===(s=M.userData)||void 0===s?void 0:s.CertState)?"已开通，未安装":"2"==(null===(i=M.userData)||void 0===i?void 0:i.CertState)?"已开通，已锁定":"3"==(null===(u=M.userData)||void 0===u?void 0:u.CertState)?"证书已过期":"":"未开通"),513),[[n.aG,"sf"==e.value]]),(0,t.bo)((0,t.Lk)("div",{class:"desc_text _fz12 _red"},(0,o.v_)(e.isOpen?"已开通":"未开通"),513),[[n.aG,"sf"!=e.value&&"1"!=e.value]])],8,K)}),128))])]),_:1},8,["show"]),(0,t.bF)(j,{show:M.showRiskPop,"onUpdate:show":a[21]||(a[21]=e=>M.showRiskPop=e),title:"风险提示","confirm-button-text":M.confirmBtnText,confirmButtonColor:"#0f8bdf","cancel-button-text":"关闭",showCancelButton:!0,onCancel:M.cancelEvent,onConfirm:M.confirmEvent},{default:(0,t.k6)(()=>[(0,t.Lk)("div",D,[(0,t.Lk)("p",null,(0,o.v_)(M.riskText),1),a[41]||(a[41]=(0,t.Lk)("p",null,"您也可至线下营业网点办理",-1))])]),_:1},8,["show","confirm-button-text","onCancel","onConfirm"]),(0,t.bF)(j,{show:M.showLimitPop,"onUpdate:show":a[23]||(a[23]=e=>M.showLimitPop=e),title:"温馨提示","confirm-button-text":"继续转账","cancel-button-text":"取消转账",showCancelButton:!0,onCancel:M.hideLimitPop,onConfirm:M.continueEvent},{default:(0,t.k6)(()=>[(0,t.Lk)("div",V,[a[43]||(a[43]=(0,t.Lk)("div",{class:"_fz16 _grey"},[(0,t.Lk)("p",{class:"marginRow10"}," 您当日累计交易金额较大,为了您的资金安全,请勿向不明帐户进行转账,以免落入诈骗陷阱。 "),(0,t.Lk)("p",{class:"marginRow10"},"请确认您已了解收款人真实性。")],-1)),(0,t.bF)(H,{name:"1",modelValue:M.limitTipFlag,"onUpdate:modelValue":a[22]||(a[22]=e=>M.limitTipFlag=e)},{default:(0,t.k6)(()=>[...a[42]||(a[42]=[(0,t.Lk)("span",null,"不再提醒",-1)])]),_:1},8,["modelValue"])])]),_:1},8,["show","onCancel","onConfirm"])]),_:1},8,["onClickLeft"])}l(27420);var M=l(11185),O=l(9424),G=(l(65083),l(64520)),$=(l(84864),l(27495),l(25440),l(44114),l(18111),l(22489),l(20116),l(7588),l(57465),l(58335),l(12040)),Q=l(51449),q=l(39053),X=l(92369),Y=l(27636),Z=l(34568),J=l(53620),j={name:"BankCardTransfer",setup(){var{state:e,commit:a,dispatch:l}=(0,Q.Pj)(),n=(0,q.rd)(),{proxy:o,appContext:r}=(0,t.nI)(),{$qzbankBridge:s,$dicts:i}=r.config.globalProperties,u=(0,t.EW)(()=>e.transfer.userData),v=(0,t.EW)(()=>e.transfer.netBankLoginInfo),c=(0,t.EW)(()=>e.transfer.s),d=(0,t.EW)(()=>e.transfer.ibpsTrsLimit),p=(0,t.EW)(()=>e.transfer.limitInfo),f=(0,t.EW)(()=>e.transfer.latePayFlag),m=(0,t.EW)(()=>e.transfer.protection),k=(0,t.EW)(()=>e.transfer.clearBankInfo),y=(0,t.EW)(()=>e.transfer.payeeInfo),h=(0,$.KR)(!1),_=(0,$.KR)(""),C=(0,t.EW)(()=>e.transfer.payerInfo),P=(0,$.KR)(""),b=(0,$.KR)(!1),g=(0,$.KR)(""),T=(0,$.KR)(!1),L=(0,$.KR)(!1),B=(0,$.KR)(""),N=(0,$.KR)(""),w=(0,$.KR)(""),F=(0,$.KR)(""),A=(0,$.KR)(""),I=(0,$.KR)(!1),x=(0,t.EW)(()=>e.transfer.riskFlag),S=(0,$.KR)(!1),R=(0,$.KR)(""),W={text:"name",value:"value"},K=(0,$.KR)([]),E=[{text:"往来款"},{text:"还信用卡"},{text:"生活费"},{text:"差旅费"}],U=(0,t.EW)(()=>e.transfer.showRiskPop),D=(0,t.EW)(()=>e.transfer.riskText),V=(0,t.EW)(()=>e.transfer.confirmBtnText),z=(0,t.EW)(()=>e.transfer.showLimitPop),j=(0,$.KR)(!1),H=(0,t.EW)(()=>e.transfer.showConfirmPop),ee=(0,$.KR)(0),ae=(0,$.KR)(null),le=(0,$.KR)(""),te=(0,$.KR)(!1),ne=(0,$.KR)(!1),oe=(0,$.KR)(!1),re=(0,t.EW)(()=>e.transfer.authTypeList),se=(0,t.EW)(()=>e.transfer.authType),ie=(0,$.KR)(!0);(0,t.wB)(()=>y.value,e=>{e&&null!==e&&void 0!==e&&e.PayeeBankName&&((null===e||void 0===e?void 0:e.PayeeBankName.indexOf("泉州银行"))>-1||"313397075189"==(null===e||void 0===e?void 0:e.PayeeBankId)?h.value=!0:h.value=!1),_.value=e.PayeeBankName||e.BankName;var a=h.value||e.PayeeAcNo&&e.PayeeAcName&&(e.PayeeBankName||e.BankName);I.value=a&&T.value&&C.value.id&&N.value},{deep:!0,immediate:!0}),(0,t.wB)(()=>C.value,e=>{var a,l,t,n;parseFloat(g.value)?L.value=parseFloat(g.value)>e.balance:L.value=!1;var o=h.value||(null===(a=y.value)||void 0===a?void 0:a.PayeeAcNo)&&(null===(l=y.value)||void 0===l?void 0:l.PayeeAcName)&&((null===(t=y.value)||void 0===t?void 0:t.PayeeBankName)||(null===(n=y.value)||void 0===n?void 0:n.BankName));I.value=o&&T.value&&e.id&&N.value},{deep:!0,immediate:!0}),(0,t.wB)(()=>N.value,e=>{var a,l,t,n;w.value=e.toString()?h.value?i.transferDict.QzBankTransferType[e]:i.transferDict.OtherBankTransferType[e]:"",F.value=e.toString()?h.value?i.transferDict.QzBankTransTypeList.find(a=>a.id==e).desc:i.transferDict.OtherTransTypeList.find(a=>a.id==e).desc:"";var o=h.value||(null===(a=y.value)||void 0===a?void 0:a.PayeeAcNo)&&(null===(l=y.value)||void 0===l?void 0:l.PayeeAcName)&&((null===(t=y.value)||void 0===t?void 0:t.PayeeBankName)||(null===(n=y.value)||void 0===n?void 0:n.BankName));I.value=o&&T.value&&C.value.id&&e},{deep:!0,immediate:!0}),(0,t.wB)(()=>se.value,e=>{var a,l,t;"1"==e&&(parseFloat(g.value)<=parseFloat(null===(a=p.value)||void 0===a?void 0:a.S_LimitPerTrs)&&parseFloat(g.value)<=parseFloat(null===(l=p.value)||void 0===l?void 0:l.S_LimitPerDay)&&parseFloat(g.value)<=parseFloat(null===(t=p.value)||void 0===t?void 0:t.S_LimitPerDayForLeave)?ie.value=!1:ie.value=!0)},{deep:!0,immediate:!0}),(0,t.wB)(()=>H.value,e=>{e?(ee.value=60,ae.value=setInterval(()=>{ee.value>0?ee.value--:(clearInterval(ae.value),ae.value=null)},1e3)):(clearInterval(ae.value),ae.value=null)},{deep:!0,immediate:!0}),(0,t.wB)(()=>le.value,e=>{e&&6==e.length&&(te.value=!0)},{deep:!0,immediate:!0}),(0,t.sV)(()=>{var a;(0,t.dY)(()=>{ue()});var o=null===(a=n.currentRoute.value.query)||void 0===a?void 0:a.from;if(o&&"DeferredTransfer"==o)g.value=e.transfer.transferAmount,N.value=e.transfer.transferType;else{o&&"TransferIndex"==o&&y.value.PayeeAcNo&&me();var r=navigator.userAgent.indexOf("Qzccbank")>-1;l("transfer/getUserData",{isApp:r})}ce("voiceUrl"),ce("pastUrl")}),(0,t.hi)(()=>{ae.value&&clearInterval(ae.value)});var ue=function(){(0,X.loadBundle)().then(()=>{var e=["#payeeName"];setTimeout(function(){(0,X.getUnCommonWordConfig)(function(a){new UncommonWordShow(e,a)})},200)})},ve=function(){(0,Y.loadKeyBoard)().then(()=>{var e="#PayeeAcName";setTimeout(function(){(0,Y.getFZKeyBoardConfig)(function(a){a.events={inputComplet:function(e){fe("PayeeAcName",e)}};var l=new FzKeyboard(e,a);l.show()})},200)})},ce=l=>{if(J.info("getUrlParam",l),!e.transfer[l]){var t=window.location.href;if("voiceUrl"==l){var n=de(t,"PayeeAcName"),o=de(t,"Amount"),r=decodeURIComponent(n);o&&r&&(a("transfer/setAmount",o),fe("PayeeAcName",r),Z.apiMobilePayeeBookQry({Mode:"2"}).then(e=>{e&&"000000"!=e&&(null===e||void 0===e||e.List.forEach(e=>{e.PayeeAcName==r&&(a("transfer/setPayeeInfo",e),fe("PayeeAcNo",e.PayeeAcNo),me())}))}))}if("pastUrl"==l){var s=de(t,"PayeeAcNo")||"";if(s&&s.length){var i=s.replace(/\s*/g,"");y.value.PayeeAcNo=i,fe("PayeeAcNo",i),me()}}}},de=(e,a)=>{var l=new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i"),t=e.indexOf("?"),n=e.substr(t).substr(1),o=n.match(l);return J.info("str",o),null!=o?o[2]:null},pe=()=>{n.push({path:"/FreqContaList",query:{defaultBankId:"313397075189",defaultBankName:"泉州银行"}})},fe=(e,a)=>{y.value[e]=a},me=()=>{var e,a=/^[0-9\s]+$/,t=null===(e=y.value)||void 0===e?void 0:e.PayeeAcNo.replace(/\s+/g,"");P.value="",b.value=!1,t&&t.length>4&&(a.test(t)?(b.value=!0,l("transfer/getPayeeBankInfo",{acNo:t})):P.value="存在特殊字符，请确定账号是否有误")},ke=()=>{s.sendNativeInstrution("getOcrImg",{},e=>{var a=JSON.parse(e);y.value.PayeeAcNo=a.cardNo.replace(/\s*/g,""),me()})},ye=()=>{n.push({path:"/BankList"})},he=e=>{var a=e.replace(/[^\d.]/g,"");a=a.replace(/\.{2,}/g,"."),a=a.replace(/^0+(?=\d)/,"$1");var[l,t]=a.split(".");return t&&(a="".concat(l||0,".").concat(t.slice(0,2))),g.value=parseFloat(a),B.value="",T.value=!1,I.value=!1,isNaN(g.value)?B.value="":g.value>=1e8?B.value="亿":g.value>=1e7?B.value="千万":g.value>=1e6?B.value="百万":g.value>=1e5?B.value="十万":g.value>=1e4?B.value="万":g.value>=1e3?B.value="千":g.value>=100?B.value="百":void _e()},_e=()=>{var e,t=/^(([1-9]{1}\d*)|(0{1}))(\.\d{1,2})?$/;if(T.value=!1,isNaN(g.value))return g.value="",T.value=!1,void(0,G.A)("请输入有效数值");if(g.value&&t.test(g.value)){var n,r,s,i,u;T.value=!0,a("transfer/setAmount",g.value),L.value=parseFloat(g.value)>parseFloat(null===(n=C.value)||void 0===n?void 0:n.balance),o.$sensors.track("AP_TransferProcess",{transfer_type:"账号转账",transfer_page:"信息录入页",is_success:!0,fail_reason:""});var v=!!h.value||!(null===(r=y.value)||void 0===r||!r.PayeeAcNo||!(null!==(s=y.value)&&void 0!==s&&s.PayeeBankName||y.value.BankName));null!==(i=y.value)&&void 0!==i&&i.PayeeAcName&&null!==(u=y.value)&&void 0!==u&&u.PayeeAcNo&&g.value&&v&&N.value&&!h.value&&(parseFloat(g.value)>5e4&&"3"==N.value?N.value="0":l("transfer/checkTransferType"))}var c=h.value||y.value.PayeeAcNo&&(null===(e=y.value)||void 0===e?void 0:e.PayeeAcName(y.value.PayeeBankName||y.value.BankName));I.value=c&&T.value&&C.value.id&&N.value},Ce=()=>{n.push({path:"/AccountList"})},Pe=e=>{if("transferType"==e&&(R.value="请选择转账方式",h.value?K.value=i.transferDict.QzBankTransTypeList:K.value=i.transferDict.OtherTransTypeList,"Y"==f.value&&(K.value=[{id:"4",title:"24小时转账",desc:"实时扣款，24小时后转出，期间可撤销"}]),S.value=!0),"authType"==e){if(!ie.value)return;H.value=!1,a("transfer/setShowConfirmPop",!1),oe.value=!0}},be=e=>{A.value=e.text},ge=e=>{"4"==e.id||"5"==e.id?a("transfer/setNetType","指定行号入账"):a("transfer/setNetType",""),h.value?N.value=e.id:parseFloat(g.value)>5e4&&"3"==e.id?N.value="0":N.value=e.id,S.value=!1},Te=()=>{var e;parseFloat(g.value)>parseFloat(null===(e=C.value)||void 0===e?void 0:e.balance)?(0,G.A)("可用余额不足，请选择其他转出卡"):(l("transfer/getPayeeBankInfo",{acNo:y.value.PayeeAcNo}),a("transfer/setPayeeInfo",{isQZBank:h.value}),a("transfer/setAmount",g.value),a("transfer/setTransferType",N.value),Le(),Be())},Le=()=>{var e,l="";["1","7"].indexOf(null===(e=v.value)||void 0===e?void 0:e.AuthType)>-1&&parseFloat(g.value)<=parseFloat(p.value.S_LimitPerTrs)&&parseFloat(g.value)<=parseFloat(p.value.S_LimitPerDay)&&parseFloat(g.value)<=parseFloat(p.value.S_LimitPerDayForLeave)?(l="1",ie.value=!1):(l="sf",ie.value=!0),a("transfer/setAuthType",l)},Be=()=>{l("transfer/chenckAmount").then(e=>{e&&(Ne(),h.value||"3"==N.value?("1"==se.value&&l("transfer/riskBankCheck"),"1"!=se.value&&(a("setShowConfirmPop",!0),"sf"==se.value?Ee():Ue())):n.push({path:"/ConfirmTransfer"}))})},Ne=()=>{var e,l,t,n=y.value.PayeeBankName||y.value.BankName,o={CertType:"sf"==se.value?se.value:"",AuthType:"sf"!=se.value?se.value:"",TransferType:N.value,NotifyFlag:v.value.TransferNotifyFlag,s:c.value,PayerAcNo:C.value.id,PayerAcName:C.value.name,PayerBankAcType:C.value.bankAcType,PayerSubAcSeq:C.value.subacseq,PayerCurrency:C.value.currency.id,PayeeAcNo:null===(e=y.value)||void 0===e?void 0:e.PayeeAcNo,PayeeAcName:null===(l=y.value)||void 0===l?void 0:l.PayeeAcName,SceneCode:"MobileTransfer",Amount:String(g.value),AttachInfo:A.value,BussKind:"accountTrans",RemarkMode:"1",Remark:"",TransferFlag:"1",RiskNoticeFlag:"0",addPayeeBookRad:"0",TransFaceCode:"zhuanzhang",MobileDelayFlag:"Y",TransferTp:"1",PayeeMobile:"",notifyPayeeMobilePhone:"1"};h.value?o=(0,O.A)((0,O.A)({},o),{},{isQZBank:"1",PayeeBankName:"泉州银行",my:"0",CardOrPhone:"",TransactionId:"BankInnerTransferConfirm",submitTransId:"BankInnerTransfer"}):(o=(0,O.A)((0,O.A)({},o),{},{isQZBank:"0",WeekendRiskNoticeFlag:"0",PayeeBankId:null===(t=y.value)||void 0===t?void 0:t.PayeeBankId,PayeeBankName:n,TransactionId:"3"==N.value?"IbpsCreditConfirm":"TransferConfirm",submitTransId:"3"==N.value?"IbpsCredit":"Transfer",Priority:"3"==N.value?"1":"0"}),"3"==N.value&&(o=(0,O.A)((0,O.A)({},o),{},{PayeeClearBankNo:k.value.Value,PayeeClearBankName:k.value.Name,IbpsBusiType:"C200",IbpsBusiKind:"02001"})));a("transfer/setSubmitParams",o)},we=()=>{a("transfer/setRiskPop",{confirmBtnText:"",riskText:"",showRiskPop:!1})},Fe=()=>{switch(a("transfer/setRiskPop",{confirmBtnText:"",riskText:"",showRiskPop:!1}),x.value){case"1":l("transfer/toRemoteBankNotice");break;case"2":l("transfer/timeValidate");break;default:l("transfer/validateOCR");break}},Ae=()=>{a("transfer/setShowLimitPop",!1)},Ie=()=>{a("transfer/setShowLimitPop",!1),a("transfer/setSubmitParams",{RiskNoticeFlag:"1",NotifyFlag:j.value?"0":v.value.TransferNotifyFlag}),l("transfer/confirmSubmit")},xe=()=>{ee.value>0||(ee.value=60,l("transfer/getVerifyCode").then(()=>{Se()}))},Se=()=>{ae.value=setInterval(()=>{ee.value>0?ee.value--:(clearInterval(ae.value),ae.value=null)},1e3)},Re=()=>{n.replace({path:"/TransferIndex"})},We=()=>{H.value=!1,a("transfer/setShowConfirmPop",!1),le.value=""},Ke=()=>{s.sendNativeInstrution("getUserAllData",{},e=>{var t=JSON.parse(e);a("transfer/setUserData",t),l("transfer/getLimitInfo",{type:"sf"}).then(e=>{Ee("sf",e)})})},Ee=(e,t)=>{ne.value=!1;var n=re.value.filter(e=>"sf"==e.value),o=n[0];o.isOpen&&o.isValid&&s.sendNativeInstrution("getUserAllData",{},n=>{var r=JSON.parse(n);if(r.certUpdateFlag&&"Y"==r.certUpdateFlag)M.A.confirm({title:"温馨提示",message:"当前手机证书正在自动安装，暂时不可用，请稍后重试",confirmButtonText:"确定",confirmButtonColor:"#1989Fa",showCancelButton:!1}).then(()=>{Ue()});else{var s=e?null===t||void 0===t?void 0:t.MC_LimitPerTrs:p.value.MC_LimitPerTrs,i=e?null===t||void 0===t?void 0:t.MC_LimitPerDay:p.value.MC_LimitPerDay,u=e?null===t||void 0===t?void 0:t.MC_LimitPerDayForLeave:p.value.MC_LimitPerDayForLeave;parseFloat(g.value)<=parseFloat(s)&&parseFloat(g.value)<=parseFloat(i)&&parseFloat(g.value)<=parseFloat(u)?(a("transfer/setAuthType",o.value),Ne(),ne.value=!0,l("transfer/riskBankCheck")):Ue()}}),o.isOpen&&!o.isValid&&M.A.confirm({title:"温馨提示",message:"证书异常",cancelButtonText:"取消",confirmButtonText:"去安装",confirmButtonColor:"#1989Fa"}).then(()=>{var e="1"==u.value.CertState?"open":"2"==u.value.CertState?"unlock":"3"==u.value.CertState?"update":"";l("transfer/getBussNo").then(a=>{s.sendNativeInstrution("mobileCertManager",{operType:e,BussNo:a,SceneCode:"MobileSoftCertNotify"},()=>{Ke()})})}).catch(()=>{Ue()}),o.isOpen||M.A.confirm({title:"温馨提示",message:"您的认证介质额度不足，申请手机证书，提高转账额度",confirmButtonText:"去申请",confirmButtonColor:"#1989Fa"}).then(()=>{l("transfer/getBussNo").then(e=>{s.sendNativeInstrution("mobileCertManager",{operType:"open",BussNo:e,SceneCode:"MobileSoftCertNotify"},()=>{Ke()})})}).catch(()=>{Ue()})},Ue=()=>{ne.value=!1;var e="";if(parseFloat(g.value)<=parseFloat(p.value.C_LimitPerTrs)&&parseFloat(g.value)<=parseFloat(p.value.C_LimitPerDay)&&parseFloat(g.value)<=parseFloat(p.value.C_LimitPerDayForLeave)){var t=re.value.slice(-1),n=t[0];e=n&&null!==n&&void 0!==n&&n.value&&null!==n&&void 0!==n&&n.isOpen&&n&&"1"!=(null===n||void 0===n?void 0:n.value)&&"sf"!=(null===n||void 0===n?void 0:n.value)?null===n||void 0===n?void 0:n.value:""}else e="";e?(se.value=e,a("transfer/setAuthType",e),Ne(),ne.value=!0,l("transfer/riskBankCheck")):M.A.confirm({title:"温馨提示",message:"您输入的转账金额已超过当前介质转账限额，请联系客服：40088-96312",showCancelButton:!1,confirmButtonText:"好的",confirmButtonColor:"#1989Fa"})},De=()=>{l("transfer/validateCode",{code:le.value}).then(()=>{o.$sensors.track("AP_TransferProcess",{transfer_type:"账号转账",transfer_page:"转账确认页",is_success:!0,fail_reason:""}),"1"==se.value&&l("transfer/submitEvent"),"4"==se.value&&l("transfer/callBleToothKeyBoard")})},Ve=()=>{l("transfer/getPwdKbd")},ze=e=>{if(e.isOpen){if("1"==e.value)return;"sf"==e.value&&(a("setShowConfirmPop",!0),Ee()),"3"!=e.value&&"4"!=e.value||(a("setShowConfirmPop",!0),Ue())}else"1"==e.value&&M.A.confirm({title:"温馨提示",message:"手机短信未开通",confirmButtonText:"确定",confirmButtonColor:"#1989Fa",showCancelButton:!1}),"3"!=e.value&&"4"!=e.value||M.A.confirm({title:"温馨提示",message:"当前暂不支持该认证方式".concat("3"==e.value?"(蓝牙Ukey)":"4"==e.value?"(手机短信+蓝牙Ukey)":""),confirmButtonText:"确定",confirmButtonColor:"#1989Fa",showCancelButton:!1}),"sf"==e.value&&(a("setShowConfirmPop",!0),Ee());oe.value=!1};return{userData:u,netBankLoginInfo:v,payeeInfo:y,isQZBank:h,errorMsg:P,showBank:b,payerInfo:C,payeeBankName:_,amount:g,showTip:L,currentUnit:B,transferTypeName:w,transferDesc:F,protection:m,authType:se,nextFlag:I,isShowPicker:S,pickerTtl:R,pickerColumn:K,pickerColumnName:W,ibpsTrsLimit:d,attachInfo:A,remarkList:E,showConfirmPop:H,countdown:ee,verifyCode:le,verifyFlag:te,isShowAuthType:oe,authTypeList:re,showRiskPop:U,confirmBtnText:V,riskText:D,showLimitPop:z,limitTipFlag:j,canSubmit:ne,makeKeyboardShow:ve,toContactList:pe,updateInput:fe,checkPayeeAcNo:me,toCamera:ke,toBankList:ye,checkAmount:_e,changeAmount:he,toAccountList:Ce,showPicker:Pe,onConfirm:ge,selectRemark:be,nextEvent:Te,closePop:We,selectAuthType:ze,getCode:xe,confirmEvent:Fe,cancelEvent:we,hideLimitPop:Ae,continueEvent:Ie,validateCode:De,getPwdKbd:Ve,goBack:Re}}},H=l(1169);const ee=(0,H.A)(j,[["render",z],["__scopeId","data-v-ca805cc4"]]);var ae=ee},80014:function(e,a,l){e.exports=l.p+"img/icon_ylList.38a06f95.png"}}]);