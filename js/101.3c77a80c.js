"use strict";(self["webpackChunkharmony_transfer"]=self["webpackChunkharmony_transfer"]||[]).push([[101],{6101:function(e,a,l){l.r(a),l.d(a,{default:function(){return pe}});l(62953);var t=l(95976),o=l(10160),n=l(29746),r={class:"main"},s={class:"field_wrap"},i={class:"payee_box _flex-start"},u={class:"logo_box"},v=["src"],c={class:"_flex-start _fz16"},d={class:"_paddingLeft15 _grey"},p={class:"_marginTop8 _fz14"},f={class:"field_wrap"},m={class:"_flex-center"},k={class:"field_wrap"},y={class:"_flex-end input_box"},h={class:"input_cont"},_={class:"_fz16"},P={class:"_fz14 _marginTop4"},b={class:"tip_text"},L={class:"field_wrap"},C={class:"input_box"},g={class:"_fz16"},T={class:"_fz14 _red _marginTop4"},B={class:"remark_list _flex"},N=["onClick"],w={class:"btn_wrap"},F={class:"tip_wrap"},A={class:"picker_item"},I={class:"_fz16 _blue"},x={class:"_fz14 _grey _marginTop8"},S={class:"pop_cont"},R={class:"pop_info _fz16 text-center"},W={class:"_marginBottom8"},K={class:"UncommonShow"},E={class:"_marginBottom8"},U={class:"_marginBottom8 _fz30"},D={class:"_fz16 _marginBottom8"},z={class:"_marginBottom8 _red _fz16 _fw600"},V={class:"code_info"},M={class:"_flex-center"},O={class:"pop_text"},G={class:"code_box"},$={class:"pop_btn"},Q={class:"pop_textBtn"},q={class:"authType_pop"},X=["onClick"],Y={class:"_fz16"},Z={class:"_paddingLeft8"},J={class:"_padding1520 _marginBottom8"},j={class:"_padding1520 _marginBottom8"};function H(e,a,H,ee,ae,le){var te=(0,t.g2)("van-icon"),oe=(0,t.g2)("van-field"),ne=(0,t.g2)("van-image"),re=(0,t.g2)("van-button"),se=(0,t.g2)("van-picker"),ie=(0,t.g2)("van-popup"),ue=(0,t.g2)("van-password-input"),ve=(0,t.g2)("van-dialog"),ce=(0,t.g2)("van-checkbox"),de=(0,t.g2)("content-box");return(0,t.uX)(),(0,t.Wv)(de,{class:"container",title:"账号转账",isBlockLeftEvent:!0,onClickLeft:ee.goBack},{default:(0,t.k6)(()=>[(0,t.Lk)("div",r,[(0,t.bo)((0,t.Lk)("fieldset",s,[a[24]||(a[24]=(0,t.Lk)("legend",{class:"field_label"},"收款人",-1)),(0,t.Lk)("div",i,[(0,t.Lk)("div",u,[(0,t.Lk)("img",{src:ee.payeeInfo.logoUrl},null,8,v)]),(0,t.Lk)("div",null,[(0,t.Lk)("div",c,[(0,t.Lk)("p",null,(0,o.v_)(ee.payeeInfo.PayeeAcName),1),(0,t.Lk)("p",d,(0,o.v_)(ee.payeeBankName),1)]),(0,t.Lk)("div",p,(0,o.v_)(ee.payeeInfo.PayeeAcNo),1)])])],512),[[n.aG,ee.hasPayeeInfo]]),(0,t.bo)((0,t.Lk)("fieldset",f,[a[25]||(a[25]=(0,t.Lk)("legend",{class:"field_label"},"收款人",-1)),(0,t.bF)(oe,{id:"PayeeAcName",label:"户名",placeholder:"请输入收款人户名",modelValue:ee.payeeInfo.PayeeAcName,"onUpdate:modelValue":[a[2]||(a[2]=e=>ee.payeeInfo.PayeeAcName=e),a[3]||(a[3]=e=>ee.updateInput("PayeeAcName",e))]},{extra:(0,t.k6)(()=>[(0,t.Lk)("div",m,[(0,t.Lk)("div",{class:"_marginRight8 _fz14 _blue",onClick:a[0]||(a[0]=function(){return ee.makeKeyboardShow&&ee.makeKeyboardShow(...arguments)})}," 生僻字 "),(0,t.bF)(te,{name:"manager",color:"#0f8bdf",size:"20",onClick:a[1]||(a[1]=e=>ee.toContactList())})])]),_:1},8,["modelValue"]),(0,t.bF)(oe,{modelValue:ee.payeeInfo.PayeeAcNo,"onUpdate:modelValue":[a[5]||(a[5]=e=>ee.payeeInfo.PayeeAcNo=e),a[7]||(a[7]=e=>ee.updateInput("PayeeAcNo",e))],label:"账号",placeholder:"请输入收款人账号","error-message":ee.errorMsg,onBlur:a[6]||(a[6]=e=>ee.checkPayeeAcNo())},{"right-icon":(0,t.k6)(()=>[(0,t.bF)(te,{name:"photograph",color:"#0f8bdf",size:"20",onClick:a[4]||(a[4]=e=>ee.toCamera())})]),_:1},8,["modelValue","error-message"]),(0,t.bo)((0,t.bF)(oe,{modelValue:ee.payeeBankName,"onUpdate:modelValue":a[8]||(a[8]=e=>ee.payeeBankName=e),label:"银行","right-icon":"arrow",readonly:"",onClick:a[9]||(a[9]=e=>ee.toBankList())},null,8,["modelValue"]),[[n.aG,ee.showBank||ee.payeeInfo.PayeeBankName||ee.payeeInfo.BankName]])],512),[[n.aG,!ee.hasPayeeInfo]]),(0,t.Lk)("fieldset",k,[a[27]||(a[27]=(0,t.Lk)("legend",{class:"field_label"},"转账金额",-1)),(0,t.bF)(oe,{class:"amount_input",modelValue:ee.amount,"onUpdate:modelValue":[a[10]||(a[10]=e=>ee.amount=e),ee.changeAmount],label:"￥","label-width":"24",error:ee.showTip,maxlength:"13",type:"number",placeholder:"请输入转账金额",onBlur:ee.checkAmount,onFocus:ee.checkAmount},{extra:(0,t.k6)(()=>[(0,t.bo)((0,t.Lk)("div",{class:"unit_tip"},(0,o.v_)(ee.currentUnit),513),[[n.aG,ee.currentUnit]])]),_:1},8,["modelValue","error","onBlur","onFocus","onUpdate:modelValue"]),(0,t.bF)(oe,{label:"付款卡",placeholder:"请选择付款卡","right-icon":"arrow",readonly:"",onClick:a[11]||(a[11]=e=>ee.toAccountList())},{input:(0,t.k6)(()=>{var e;return[(0,t.Lk)("div",y,[(0,t.Lk)("div",h,[(0,t.Lk)("p",_,(0,o.v_)(ee.payerInfo.aliasName)+" ("+(0,o.v_)(null===(e=ee.payerInfo.id)||void 0===e?void 0:e.slice(-4))+") ",1),(0,t.Lk)("p",P,[a[26]||(a[26]=(0,t.eW)(" 余额 ",-1)),(0,t.Lk)("span",{class:(0,o.C4)({_blue:!ee.showTip,_red:ee.showTip})},(0,o.v_)(ee.payerInfo.balance||"--"),3)])]),(0,t.bF)(ne,{width:"40",fit:"contain",src:l(80014)},null,8,["src"])])]}),_:1})]),(0,t.bo)((0,t.Lk)("p",b,[...a[28]||(a[28]=[(0,t.Lk)("span",{class:"_red"},"可用余额不足，",-1),(0,t.eW)("请选择其他转出卡 ",-1)])],512),[[n.aG,ee.showTip]]),(0,t.Lk)("fieldset",L,[(0,t.bF)(oe,{class:"type_input",label:"转账方式",placeholder:"请选择到账方式","right-icon":"arrow",readonly:"",onClick:a[12]||(a[12]=e=>ee.showPicker("transferType"))},{input:(0,t.k6)(()=>[(0,t.Lk)("div",C,[(0,t.Lk)("p",g,(0,o.v_)(ee.transferTypeName),1),(0,t.Lk)("p",T,(0,o.v_)(ee.transferDesc),1)])]),_:1}),(0,t.Lk)("div",null,[(0,t.bF)(oe,{modelValue:ee.attachInfo,"onUpdate:modelValue":a[13]||(a[13]=e=>ee.attachInfo=e),label:"转账附言",placeholder:"请填写转账附言"},null,8,["modelValue"]),(0,t.Lk)("ul",B,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(ee.remarkList,e=>((0,t.uX)(),(0,t.CE)("li",{class:"remark_item _fz14",key:e.text,onClick:a=>ee.selectRemark(e)},(0,o.v_)(e.text),9,N))),128))])])]),(0,t.Lk)("div",w,[(0,t.bF)(re,{disabled:!ee.nextFlag||ee.protection,type:"primary",large:"",block:"",round:"",onClick:ee.nextEvent},{default:(0,t.k6)(()=>[...a[29]||(a[29]=[(0,t.eW)(" 下一步 ",-1)])]),_:1},8,["disabled","onClick"])]),(0,t.Lk)("div",F,[a[35]||(a[35]=(0,t.Lk)("p",null,"安全提示：",-1)),(0,t.Lk)("p",null,[a[30]||(a[30]=(0,t.eW)(" 1.“普通”转账方式将根据您的转账金额自动处理；工作日，",-1)),(0,t.Lk)("span",null,(0,o.v_)(Number(ee.ibpsTrsLimit).toFixed(2)),1),a[31]||(a[31]=(0,t.eW)("元及以下金额，实时处理；",-1)),(0,t.Lk)("span",null,(0,o.v_)(Number(ee.ibpsTrsLimit).toFixed(2)),1),a[32]||(a[32]=(0,t.eW)("元以上金额，于9:00-17:00处理；到账时间取决于收款方银行处理时间；周末及法定节假日，50万元及以下金额，实时处理；50万元以上金额，于法定工作日9:00-17:00处理，具体以人行系统时间为准，当日到账。 ",-1))]),(0,t.Lk)("p",null,[a[33]||(a[33]=(0,t.eW)(" 2.“实时”转账方式仅支持",-1)),(0,t.Lk)("span",null,(0,o.v_)(Number(ee.ibpsTrsLimit).toFixed(2)),1),a[34]||(a[34]=(0,t.eW)("元及以下金额，7X24小时处理，实时转账。部分银行不在收款方开户银行列表中，请联系收款方银行，确认该银行是否开通实时结算。 ",-1))]),a[36]||(a[36]=(0,t.Lk)("p",null,"3.转账成功后若短信通知收款人，我行暂不收取短信通知费。",-1)),a[37]||(a[37]=(0,t.Lk)("p",null," 4.贷款资金不能用于购房、投资、理财、同名转账等相关交易，如果有这种情况，交易将被拦截。 ",-1)),a[38]||(a[38]=(0,t.Lk)("p",null,[(0,t.eW)(" 5.为了您的资金安全，请勿轻易向"),(0,t.Lk)("span",{class:"_red"},"陌生人"),(0,t.eW)("转账汇款，不要轻信"),(0,t.Lk)("span",{class:"_red"},"陌生人"),(0,t.eW)("通过网络、电话、短信等方式告知的信息，"),(0,t.Lk)("span",{class:"_red"},"谨防电信网络诈骗"),(0,t.eW)("。 ")],-1))])]),(0,t.bF)(ie,{show:ee.isShowPicker,"onUpdate:show":a[15]||(a[15]=e=>ee.isShowPicker=e),position:"bottom","close-on-popstate":"","close-on-click-overlay":""},{default:(0,t.k6)(()=>[(0,t.bF)(se,{title:ee.pickerTtl,"columns-field-names":ee.pickerColumnName,columns:ee.pickerColumn,"item-height":"70",onConfirm:ee.onConfirm,onCancel:a[14]||(a[14]=e=>ee.isShowPicker=!1)},{option:(0,t.k6)(e=>[(0,t.Lk)("div",A,[(0,t.Lk)("div",I,(0,o.v_)(e.title),1),(0,t.Lk)("div",x,(0,o.v_)(e.desc),1)])]),_:1},8,["title","columns-field-names","columns","onConfirm"])]),_:1},8,["show"]),(0,t.bF)(ie,{show:ee.showConfirmPop,"onUpdate:show":a[18]||(a[18]=e=>ee.showConfirmPop=e),round:"",closeable:"","close-on-popstate":"","close-on-click-overlay":"",onClickCloseIcon:ee.closePop},{default:(0,t.k6)(()=>{var l;return[(0,t.Lk)("div",S,[a[40]||(a[40]=(0,t.Lk)("div",{class:"pop_ttl"},"信息认证",-1)),(0,t.Lk)("div",R,[(0,t.Lk)("p",W,[(0,t.Lk)("span",K,(0,o.v_)(ee.payeeInfo.PayeeAcName),1),(0,t.eW)(" ("+(0,o.v_)(ee.payeeInfo.PayeeBankName)+") ",1)]),(0,t.Lk)("p",E,(0,o.v_)(ee.payeeInfo.PayeeAcNo),1),(0,t.Lk)("p",U," ￥"+(0,o.v_)(e.$filters.formatAmount(ee.amount)),1),(0,t.Lk)("p",D," 人民币 "+(0,o.v_)(e.$filters.amountFormatWords(ee.amount)),1),(0,t.Lk)("p",z,[(0,t.bF)(te,{name:"warning",size:"18"}),(0,t.eW)(" 到帐方式："+(0,o.v_)(ee.transferTypeName),1)])]),(0,t.bo)((0,t.Lk)("div",V,[(0,t.Lk)("div",M,[(0,t.Lk)("div",O," 已向您手机号“"+(0,o.v_)(null===(l=ee.netBankLoginInfo)||void 0===l?void 0:l.MobilePhone.slice(-4))+"”发送短信验证码(1分钟有效) ",1),(0,t.bF)(re,{class:"code_btn",size:"small",type:"primary",disabled:ee.countdown>0,onClick:ee.getCode},{default:(0,t.k6)(()=>[(0,t.eW)((0,o.v_)(ee.countdown>0?"重新获取(".concat(ee.countdown,")s"):"重新获取"),1)]),_:1},8,["disabled","onClick"])]),(0,t.Lk)("div",G,[(0,t.bF)(oe,{class:"code_input",modelValue:ee.verifyCode,"onUpdate:modelValue":a[16]||(a[16]=e=>ee.verifyCode=e),type:"digit"},null,8,["modelValue"]),(0,t.bF)(ue,{class:"pwd_input",ref:"pwdRef",value:ee.verifyCode,mask:!1,length:"6",inputmode:"none"},null,8,["value"])])],512),[[n.aG,"1"==ee.authType||"4"==ee.authType]]),(0,t.Lk)("div",$,[(0,t.bo)((0,t.bF)(re,{disabled:!ee.verifyFlag,type:"primary",large:"",block:"",onClick:ee.validateCode},{default:(0,t.k6)(()=>[(0,t.eW)((0,o.v_)("4"==ee.authType?"输入UKEY密码":"输入卡密"),1)]),_:1},8,["disabled","onClick"]),[[n.aG,"1"==ee.authType||"4"==ee.authType]]),(0,t.bo)((0,t.bF)(re,{disabled:!ee.canSubmit,type:"primary",large:"",block:"",onClick:ee.getPwdKbd},{default:(0,t.k6)(()=>[(0,t.eW)((0,o.v_)("3"==ee.authType?"输入UKEY密码":"手机证书"),1)]),_:1},8,["disabled","onClick"]),[[n.aG,"3"==ee.authType||"sf"==ee.authType]])]),(0,t.bo)((0,t.Lk)("div",Q,[(0,t.bF)(re,{class:"textBtn",onClick:a[17]||(a[17]=e=>ee.showPicker("authType"))},{default:(0,t.k6)(()=>[...a[39]||(a[39]=[(0,t.eW)(" 变更认证方式 ",-1)])]),_:1})],512),[[n.aG,"1"!=ee.authType]])])]}),_:1},8,["show","onClickCloseIcon"]),(0,t.bF)(ie,{show:ee.isShowAuthType,"onUpdate:show":a[19]||(a[19]=e=>ee.isShowAuthType=e),round:"",closeable:"","close-on-popstate":"","close-on-click-overlay":"",onClickCloseIcon:a[20]||(a[20]=e=>ee.isShowAuthType=!1)},{default:(0,t.k6)(()=>[(0,t.Lk)("div",q,[a[41]||(a[41]=(0,t.Lk)("p",{class:"pop_ttl"},"请选择认证方式",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(ee.authTypeList,e=>{var a,l,r,s,i,u;return(0,t.uX)(),(0,t.CE)("div",{class:"picker_auth_item",key:e.value,onClick:a=>ee.selectAuthType(e)},[(0,t.Lk)("div",Y,[(0,t.bF)(te,{class:"",name:e.value==ee.authType?"checked":"circle",color:e.value==ee.authType?"#0f8bdf":"#333",size:"20"},null,8,["name","color"]),(0,t.Lk)("span",Z,(0,o.v_)(e.name),1)]),(0,t.bo)((0,t.Lk)("div",{class:"_red"},(0,o.v_)("1"==(null===(a=ee.userData)||void 0===a?void 0:a.CertState)?"去安装":"2"==(null===(l=ee.userData)||void 0===l?void 0:l.CertState)?"去解锁":"3"==(null===(r=ee.userData)||void 0===r?void 0:r.CertState)?"去更新":""),513),[[n.aG,"sf"==e.value&&!e.isValid]]),(0,t.bo)((0,t.Lk)("div",{class:"desc_text _fz14 _red"},(0,o.v_)(e.isOpen?"1"==(null===(s=ee.userData)||void 0===s?void 0:s.CertState)?"已开通，未安装":"2"==(null===(i=ee.userData)||void 0===i?void 0:i.CertState)?"已开通，已锁定":"3"==(null===(u=ee.userData)||void 0===u?void 0:u.CertState)?"证书已过期":"":"未开通"),513),[[n.aG,"sf"==e.value]]),(0,t.bo)((0,t.Lk)("div",{class:"desc_text _fz14 _red"},(0,o.v_)(e.isOpen?"已开通":"未开通"),513),[[n.aG,"sf"!=e.value&&"1"!=e.value]])],8,X)}),128))])]),_:1},8,["show"]),(0,t.bF)(ve,{show:ee.showRiskPop,"onUpdate:show":a[21]||(a[21]=e=>ee.showRiskPop=e),title:"风险提示","confirm-button-text":ee.confirmBtnText,confirmButtonColor:"#0f8bdf","cancel-button-text":"关闭",showCancelButton:!0,onCancel:ee.cancelEvent,onConfirm:ee.confirmEvent},{default:(0,t.k6)(()=>[(0,t.Lk)("div",J,[(0,t.Lk)("p",null,(0,o.v_)(ee.riskText),1),a[42]||(a[42]=(0,t.Lk)("p",null,"您也可至线下营业网点办理",-1))])]),_:1},8,["show","confirm-button-text","onCancel","onConfirm"]),(0,t.bF)(ve,{show:ee.showLimitPop,"onUpdate:show":a[23]||(a[23]=e=>ee.showLimitPop=e),title:"温馨提示","confirm-button-text":"继续转账","cancel-button-text":"取消转账",showCancelButton:!0,onCancel:ee.hideLimitPop,onConfirm:ee.continueEvent},{default:(0,t.k6)(()=>[(0,t.Lk)("div",j,[a[44]||(a[44]=(0,t.Lk)("div",{class:"_fz16 _grey"},[(0,t.Lk)("p",{class:"marginRow10"}," 您当日累计交易金额较大,为了您的资金安全,请勿向不明帐户进行转账,以免落入诈骗陷阱。 "),(0,t.Lk)("p",{class:"marginRow10"},"请确认您已了解收款人真实性。")],-1)),(0,t.bF)(ce,{name:"1",modelValue:ee.limitTipFlag,"onUpdate:modelValue":a[22]||(a[22]=e=>ee.limitTipFlag=e)},{default:(0,t.k6)(()=>[...a[43]||(a[43]=[(0,t.Lk)("span",null,"不再提醒",-1)])]),_:1},8,["modelValue"])])]),_:1},8,["show","onCancel","onConfirm"])]),_:1},8,["onClickLeft"])}l(27420);var ee=l(11185),ae=l(9424),le=(l(65083),l(64520)),te=(l(84864),l(27495),l(25440),l(44114),l(18111),l(22489),l(20116),l(7588),l(57465),l(58335),l(12040)),oe=l(51449),ne=l(39053),re=l(92369),se=l(27636),ie=l(34568),ue=l(53620),ve={name:"BankCardTransfer",setup(){var{state:e,commit:a,dispatch:l}=(0,oe.Pj)(),o=(0,ne.rd)(),{proxy:n,appContext:r}=(0,t.nI)(),{$qzbankBridge:s,$dicts:i}=r.config.globalProperties,u=(0,t.EW)(()=>e.transfer.userData),v=(0,t.EW)(()=>e.transfer.netBankLoginInfo),c=(0,t.EW)(()=>e.transfer.s),d=(0,t.EW)(()=>e.transfer.ibpsTrsLimit),p=(0,t.EW)(()=>e.transfer.limitInfo),f=(0,t.EW)(()=>e.transfer.latePayFlag),m=(0,t.EW)(()=>e.transfer.protection),k=(0,t.EW)(()=>e.transfer.clearBankInfo),y=(0,t.EW)(()=>e.transfer.hasPayeeInfo),h=(0,t.EW)(()=>e.transfer.payeeInfo),_=(0,te.KR)(!1),P=(0,te.KR)(""),b=(0,t.EW)(()=>e.transfer.payerInfo),L=(0,te.KR)(""),C=(0,te.KR)(!1),g=(0,te.KR)(""),T=(0,te.KR)(!1),B=(0,te.KR)(!1),N=(0,te.KR)(""),w=(0,te.KR)(""),F=(0,te.KR)(""),A=(0,te.KR)(""),I=(0,te.KR)(""),x=(0,te.KR)(!1),S=(0,t.EW)(()=>e.transfer.riskFlag),R=(0,te.KR)(!1),W=(0,te.KR)(""),K={text:"name",value:"value"},E=(0,te.KR)([]),U=[{text:"往来款"},{text:"还信用卡"},{text:"生活费"},{text:"差旅费"}],D=(0,t.EW)(()=>e.transfer.showRiskPop),z=(0,t.EW)(()=>e.transfer.riskText),V=(0,t.EW)(()=>e.transfer.confirmBtnText),M=(0,t.EW)(()=>e.transfer.showLimitPop),O=(0,te.KR)(!1),G=(0,t.EW)(()=>e.transfer.showConfirmPop),$=(0,te.KR)(0),Q=(0,te.KR)(null),q=(0,te.KR)(""),X=(0,te.KR)(!1),Y=(0,te.KR)(!1),Z=(0,te.KR)(!1),J=(0,t.EW)(()=>e.transfer.authTypeList),j=(0,t.EW)(()=>e.transfer.authType),H=(0,te.KR)(!0);(0,t.wB)(()=>h.value,e=>{ue.info("payeeInfo",e),e&&null!==e&&void 0!==e&&e.PayeeBankName&&((null===e||void 0===e?void 0:e.PayeeBankName.indexOf("泉州银行"))>-1||"313397075189"==(null===e||void 0===e?void 0:e.PayeeBankId)?_.value=!0:_.value=!1),P.value=e.PayeeBankName||e.BankName;var a=_.value||e.PayeeAcNo&&e.PayeeAcName&&(e.PayeeBankName||e.BankName);x.value=a&&T.value&&b.value.id&&w.value},{deep:!0,immediate:!0}),(0,t.wB)(()=>b.value,e=>{var a,l,t,o;parseFloat(g.value)?B.value=parseFloat(g.value)>e.balance:B.value=!1;var n=_.value||(null===(a=h.value)||void 0===a?void 0:a.PayeeAcNo)&&(null===(l=h.value)||void 0===l?void 0:l.PayeeAcName)&&((null===(t=h.value)||void 0===t?void 0:t.PayeeBankName)||(null===(o=h.value)||void 0===o?void 0:o.BankName));x.value=n&&T.value&&e.id&&w.value},{deep:!0,immediate:!0}),(0,t.wB)(()=>w.value,e=>{var a,l,t,o;F.value=e.toString()?_.value?i.transferDict.QzBankTransferType[e]:i.transferDict.OtherBankTransferType[e]:"",A.value=e.toString()?_.value?i.transferDict.QzBankTransTypeList.find(a=>a.id==e).desc:i.transferDict.OtherTransTypeList.find(a=>a.id==e).desc:"";var n=_.value||(null===(a=h.value)||void 0===a?void 0:a.PayeeAcNo)&&(null===(l=h.value)||void 0===l?void 0:l.PayeeAcName)&&((null===(t=h.value)||void 0===t?void 0:t.PayeeBankName)||(null===(o=h.value)||void 0===o?void 0:o.BankName));x.value=n&&T.value&&b.value.id&&e},{deep:!0,immediate:!0}),(0,t.wB)(()=>j.value,e=>{var a,l,t;"1"==e&&(parseFloat(g.value)<=parseFloat(null===(a=p.value)||void 0===a?void 0:a.S_LimitPerTrs)&&parseFloat(g.value)<=parseFloat(null===(l=p.value)||void 0===l?void 0:l.S_LimitPerDay)&&parseFloat(g.value)<=parseFloat(null===(t=p.value)||void 0===t?void 0:t.S_LimitPerDayForLeave)?H.value=!1:H.value=!0)},{deep:!0,immediate:!0}),(0,t.wB)(()=>G.value,e=>{e?($.value=60,Q.value=setInterval(()=>{$.value>0?$.value--:(clearInterval(Q.value),Q.value=null)},1e3)):(clearInterval(Q.value),Q.value=null)},{deep:!0,immediate:!0}),(0,t.wB)(()=>q.value,e=>{e&&6==e.length&&(X.value=!0)},{deep:!0,immediate:!0}),(0,t.sV)(()=>{var a;(0,t.dY)(()=>{ve()});var n=null===(a=o.currentRoute.value.query)||void 0===a?void 0:a.from;if(n&&"DeferredTransfer"==n)g.value=e.transfer.transferAmount,w.value=e.transfer.transferType;else{n&&"TransferIndex"==n&&h.value.PayeeAcNo&&ke();var r=navigator.userAgent.indexOf("Qzccbank")>-1;l("transfer/getUserData",{isApp:r})}de("voiceUrl"),de("pastUrl")}),(0,t.hi)(()=>{Q.value&&clearInterval(Q.value)});var ve=function(){(0,re.loadBundle)().then(()=>{var e=["#payeeName"];setTimeout(function(){(0,re.getUnCommonWordConfig)(function(a){new UncommonWordShow(e,a)})},200)})},ce=function(){(0,se.loadKeyBoard)().then(()=>{var e="#PayeeAcName";setTimeout(function(){(0,se.getFZKeyBoardConfig)(function(a){a.events={inputComplet:function(e){me("PayeeAcName",e)}};var l=new FzKeyboard(e,a);l.show()})},200)})},de=l=>{if(ue.info("getUrlParam",l),!e.transfer[l]){var t=window.location.href;if("voiceUrl"==l){var o=pe(t,"PayeeAcName"),n=pe(t,"Amount"),r=decodeURIComponent(o);n&&r&&(a("transfer/setAmount",n),me("PayeeAcName",r),ie.apiMobilePayeeBookQry({Mode:"2"}).then(e=>{e&&"000000"!=e&&(null===e||void 0===e||e.List.forEach(e=>{e.PayeeAcName==r&&(a("transfer/setPayeeInfo",e),me("PayeeAcNo",e.PayeeAcNo),ke())}))}))}if("pastUrl"==l){var s=pe(t,"PayeeAcNo")||"";if(s&&s.length){var i=s.replace(/\s*/g,"");h.value.PayeeAcNo=i,me("PayeeAcNo",i),ke()}}}},pe=(e,a)=>{var l=new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i"),t=e.indexOf("?"),o=e.substr(t).substr(1),n=o.match(l);return ue.info("str",n),null!=n?n[2]:null},fe=()=>{o.push({path:"/FreqContaList",query:{defaultBankId:"313397075189",defaultBankName:"泉州银行"}})},me=(e,a)=>{h.value[e]=a},ke=()=>{var e,a=/^[0-9\s]+$/,t=null===(e=h.value)||void 0===e?void 0:e.PayeeAcNo.replace(/\s+/g,"");L.value="",C.value=!1,t&&t.length>4&&(a.test(t)?(C.value=!0,l("transfer/getPayeeBankInfo",{acNo:t})):L.value="存在特殊字符，请确定账号是否有误")},ye=()=>{s.sendNativeInstrution("getOcrImg",{},e=>{var a=JSON.parse(e);h.value.PayeeAcNo=a.cardNo.replace(/\s*/g,""),ke()})},he=()=>{o.push({path:"/BankList"})},_e=e=>{var a=e.replace(/[^\d.]/g,"");a=a.replace(/\.{2,}/g,"."),a=a.replace(/^0+(?=\d)/,"$1");var[l,t]=a.split(".");return t&&(a="".concat(l||0,".").concat(t.slice(0,2))),g.value=parseFloat(a),N.value="",T.value=!1,x.value=!1,isNaN(g.value)?N.value="":g.value>=1e8?N.value="亿":g.value>=1e7?N.value="千万":g.value>=1e6?N.value="百万":g.value>=1e5?N.value="十万":g.value>=1e4?N.value="万":g.value>=1e3?N.value="千":g.value>=100?N.value="百":void Pe()},Pe=()=>{var e,t=/^(([1-9]{1}\d*)|(0{1}))(\.\d{1,2})?$/;if(T.value=!1,isNaN(g.value))return g.value="",T.value=!1,void(0,le.A)("请输入有效数值");if(g.value&&t.test(g.value)){var o,r,s,i,u;T.value=!0,a("transfer/setAmount",g.value),B.value=parseFloat(g.value)>parseFloat(null===(o=b.value)||void 0===o?void 0:o.balance),n.$sensors.track("AP_TransferProcess",{transfer_type:"账号转账",transfer_page:"信息录入页",is_success:!0,fail_reason:""});var v=!!_.value||!(null===(r=h.value)||void 0===r||!r.PayeeAcNo||!(null!==(s=h.value)&&void 0!==s&&s.PayeeBankName||h.value.BankName));null!==(i=h.value)&&void 0!==i&&i.PayeeAcName&&null!==(u=h.value)&&void 0!==u&&u.PayeeAcNo&&g.value&&v&&w.value&&!_.value&&(parseFloat(g.value)>5e4&&"3"==w.value?w.value="0":l("transfer/checkTransferType"))}var c=_.value||h.value.PayeeAcNo&&(null===(e=h.value)||void 0===e?void 0:e.PayeeAcName(h.value.PayeeBankName||h.value.BankName));x.value=c&&T.value&&b.value.id&&w.value},be=()=>{o.push({path:"/AccountList"})},Le=e=>{if("transferType"==e&&(W.value="请选择转账方式",_.value?E.value=i.transferDict.QzBankTransTypeList:E.value=i.transferDict.OtherTransTypeList,"Y"==f.value&&(E.value=[{id:"4",title:"24小时转账",desc:"实时扣款，24小时后转出，期间可撤销"}]),R.value=!0),"authType"==e){if(!H.value)return;G.value=!1,a("transfer/setShowConfirmPop",!1),Z.value=!0}},Ce=e=>{I.value=e.text},ge=e=>{"4"==e.id||"5"==e.id?a("transfer/setNetType","指定行号入账"):a("transfer/setNetType",""),_.value?w.value=e.id:parseFloat(g.value)>5e4&&"3"==e.id?w.value="0":w.value=e.id,R.value=!1},Te=()=>{var e;parseFloat(g.value)>parseFloat(null===(e=b.value)||void 0===e?void 0:e.balance)?(0,le.A)("可用余额不足，请选择其他转出卡"):(l("transfer/getPayeeBankInfo",{acNo:h.value.PayeeAcNo}),a("transfer/setPayeeInfo",{isQZBank:_.value}),a("transfer/setAmount",g.value),a("transfer/setTransferType",w.value),Be(),Ne())},Be=()=>{var e,l="";["1","7"].indexOf(null===(e=v.value)||void 0===e?void 0:e.AuthType)>-1&&parseFloat(g.value)<=parseFloat(p.value.S_LimitPerTrs)&&parseFloat(g.value)<=parseFloat(p.value.S_LimitPerDay)&&parseFloat(g.value)<=parseFloat(p.value.S_LimitPerDayForLeave)?(l="1",H.value=!1):(l="sf",H.value=!0),a("transfer/setAuthType",l)},Ne=()=>{we(),_.value||"3"==w.value?("1"==j.value&&l("transfer/riskBankCheck"),"1"!=j.value&&(a("setShowConfirmPop",!0),"sf"==j.value?Ue():De())):o.push({path:"/ConfirmTransfer"})},we=()=>{var e,l,t,o=h.value.PayeeBankName||h.value.BankName,n={CertType:"sf"==j.value?j.value:"",AuthType:"sf"!=j.value?j.value:"",TransferType:w.value,NotifyFlag:v.value.TransferNotifyFlag,s:c.value,PayerAcNo:b.value.id,PayerAcName:b.value.name,PayerBankAcType:b.value.bankAcType,PayerSubAcSeq:b.value.subacseq,PayerCurrency:b.value.currency.id,PayeeAcNo:null===(e=h.value)||void 0===e?void 0:e.PayeeAcNo,PayeeAcName:null===(l=h.value)||void 0===l?void 0:l.PayeeAcName,SceneCode:"MobileTransfer",Amount:String(g.value),AttachInfo:I.value,BussKind:"accountTrans",RemarkMode:"1",Remark:"",TransferFlag:"1",RiskNoticeFlag:"0",addPayeeBookRad:"0",TransFaceCode:"zhuanzhang",MobileDelayFlag:"Y",TransferTp:"1",PayeeMobile:"",notifyPayeeMobilePhone:"1"};_.value?n=(0,ae.A)((0,ae.A)({},n),{},{isQZBank:"1",PayeeBankName:"泉州银行",my:"0",CardOrPhone:"",TransactionId:"BankInnerTransferConfirm",submitTransId:"BankInnerTransfer"}):(n=(0,ae.A)((0,ae.A)({},n),{},{isQZBank:"0",WeekendRiskNoticeFlag:"0",PayeeBankId:null===(t=h.value)||void 0===t?void 0:t.PayeeBankId,PayeeBankName:o,TransactionId:"3"==w.value?"IbpsCreditConfirm":"TransferConfirm",submitTransId:"3"==w.value?"IbpsCredit":"Transfer",Priority:"3"==w.value?"1":"0"}),"3"==w.value&&(n=(0,ae.A)((0,ae.A)({},n),{},{PayeeClearBankNo:k.value.Value,PayeeClearBankName:k.value.Name,IbpsBusiType:"C200",IbpsBusiKind:"02001"})));a("transfer/setSubmitParams",n)},Fe=()=>{a("transfer/setRiskPop",{confirmBtnText:"",riskText:"",showRiskPop:!1})},Ae=()=>{switch(a("transfer/setRiskPop",{confirmBtnText:"",riskText:"",showRiskPop:!1}),S.value){case"1":l("transfer/toRemoteBankNotice");break;case"2":l("transfer/timeValidate");break;default:l("transfer/validateOCR");break}},Ie=()=>{a("transfer/setShowLimitPop",!1)},xe=()=>{a("transfer/setShowLimitPop",!1),a("transfer/setSubmitParams",{RiskNoticeFlag:"1",NotifyFlag:O.value?"0":v.value.TransferNotifyFlag}),l("transfer/confirmSubmit")},Se=()=>{$.value>0||($.value=60,l("transfer/getVerifyCode").then(()=>{Re()}))},Re=()=>{Q.value=setInterval(()=>{$.value>0?$.value--:(clearInterval(Q.value),Q.value=null)},1e3)},We=()=>{o.replace({path:"/TransferIndex"})},Ke=()=>{G.value=!1,a("transfer/setShowConfirmPop",!1),q.value=""},Ee=()=>{s.sendNativeInstrution("getUserAllData",{},e=>{var t=JSON.parse(e);a("transfer/setUserData",t),l("transfer/getLimitInfo",{type:"sf"}).then(e=>{Ue("sf",e)})})},Ue=(e,t)=>{Y.value=!1;var o=J.value.filter(e=>"sf"==e.value),n=o[0];n.isOpen&&n.isValid&&s.sendNativeInstrution("getUserAllData",{},o=>{var r=JSON.parse(o);if(r.certUpdateFlag&&"Y"==r.certUpdateFlag)ee.A.confirm({title:"温馨提示",message:"当前手机证书正在自动安装，暂时不可用，请稍后重试",confirmButtonText:"确定",confirmButtonColor:"#1989Fa",showCancelButton:!1}).then(()=>{De()});else{var s=e?null===t||void 0===t?void 0:t.MC_LimitPerTrs:p.value.MC_LimitPerTrs,i=e?null===t||void 0===t?void 0:t.MC_LimitPerDay:p.value.MC_LimitPerDay,u=e?null===t||void 0===t?void 0:t.MC_LimitPerDayForLeave:p.value.MC_LimitPerDayForLeave;parseFloat(g.value)<=parseFloat(s)&&parseFloat(g.value)<=parseFloat(i)&&parseFloat(g.value)<=parseFloat(u)?(a("transfer/setAuthType",n.value),we(),Y.value=!0,l("transfer/riskBankCheck")):De()}}),n.isOpen&&!n.isValid&&ee.A.confirm({title:"温馨提示",message:"证书异常",cancelButtonText:"取消",confirmButtonText:"去安装",confirmButtonColor:"#1989Fa"}).then(()=>{var e="1"==u.value.CertState?"open":"2"==u.value.CertState?"unlock":"3"==u.value.CertState?"update":"";l("transfer/getBussNo").then(a=>{s.sendNativeInstrution("mobileCertManager",{operType:e,BussNo:a,SceneCode:"MobileSoftCertNotify"},()=>{Ee()})})}).catch(()=>{De()}),n.isOpen||ee.A.confirm({title:"温馨提示",message:"您的认证介质额度不足，申请手机证书，提高转账额度",confirmButtonText:"去申请",confirmButtonColor:"#1989Fa"}).then(()=>{l("transfer/getBussNo").then(e=>{s.sendNativeInstrution("mobileCertManager",{operType:"open",BussNo:e,SceneCode:"MobileSoftCertNotify"},()=>{Ee()})})}).catch(()=>{De()})},De=()=>{Y.value=!1;var e="";if(parseFloat(g.value)<=parseFloat(p.value.C_LimitPerTrs)&&parseFloat(g.value)<=parseFloat(p.value.C_LimitPerDay)&&parseFloat(g.value)<=parseFloat(p.value.C_LimitPerDayForLeave)){var t=J.value.slice(-1),o=t[0];e=o&&null!==o&&void 0!==o&&o.value&&null!==o&&void 0!==o&&o.isOpen&&o&&"1"!=(null===o||void 0===o?void 0:o.value)&&"sf"!=(null===o||void 0===o?void 0:o.value)?null===o||void 0===o?void 0:o.value:""}else e="";e?(j.value=e,a("transfer/setAuthType",e),we(),Y.value=!0,l("transfer/riskBankCheck")):ee.A.confirm({title:"温馨提示",message:"您输入的转账金额已超过当前介质转账限额，请联系客服：40088-96312",showCancelButton:!1,confirmButtonText:"好的",confirmButtonColor:"#1989Fa"})},ze=()=>{l("transfer/validateCode",{code:q.value}).then(()=>{n.$sensors.track("AP_TransferProcess",{transfer_type:"账号转账",transfer_page:"转账确认页",is_success:!0,fail_reason:""}),"1"==j.value&&l("transfer/submitEvent"),"4"==j.value&&l("transfer/callBleToothKeyBoard")})},Ve=()=>{l("transfer/getPwdKbd")},Me=e=>{if(e.isOpen){if("1"==e.value)return;"sf"==e.value&&(a("setShowConfirmPop",!0),Ue()),"3"!=e.value&&"4"!=e.value||(a("setShowConfirmPop",!0),De())}else"1"==e.value&&ee.A.confirm({title:"温馨提示",message:"手机短信未开通",confirmButtonText:"确定",confirmButtonColor:"#1989Fa",showCancelButton:!1}),"3"!=e.value&&"4"!=e.value||ee.A.confirm({title:"温馨提示",message:"当前暂不支持该认证方式".concat("3"==e.value?"(蓝牙Ukey)":"4"==e.value?"(手机短信+蓝牙Ukey)":""),confirmButtonText:"确定",confirmButtonColor:"#1989Fa",showCancelButton:!1}),"sf"==e.value&&(a("setShowConfirmPop",!0),Ue());Z.value=!1};return{userData:u,netBankLoginInfo:v,hasPayeeInfo:y,payeeInfo:h,isQZBank:_,errorMsg:L,showBank:C,payerInfo:b,payeeBankName:P,amount:g,showTip:B,currentUnit:N,transferTypeName:F,transferDesc:A,protection:m,authType:j,nextFlag:x,isShowPicker:R,pickerTtl:W,pickerColumn:E,pickerColumnName:K,ibpsTrsLimit:d,attachInfo:I,remarkList:U,showConfirmPop:G,countdown:$,verifyCode:q,verifyFlag:X,isShowAuthType:Z,authTypeList:J,showRiskPop:D,confirmBtnText:V,riskText:z,showLimitPop:M,limitTipFlag:O,canSubmit:Y,makeKeyboardShow:ce,toContactList:fe,updateInput:me,checkPayeeAcNo:ke,toCamera:ye,toBankList:he,checkAmount:Pe,changeAmount:_e,toAccountList:be,showPicker:Le,onConfirm:ge,selectRemark:Ce,nextEvent:Te,closePop:Ke,selectAuthType:Me,getCode:Se,confirmEvent:Ae,cancelEvent:Fe,hideLimitPop:Ie,continueEvent:xe,validateCode:ze,getPwdKbd:Ve,goBack:We}}},ce=l(1169);const de=(0,ce.A)(ve,[["render",H],["__scopeId","data-v-4744326a"]]);var pe=de},80014:function(e,a,l){e.exports=l.p+"img/icon_ylList.38a06f95.png"}}]);