"use strict";(self["webpackChunkharmony_transfer"]=self["webpackChunkharmony_transfer"]||[]).push([[148],{58148:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});a(44114),a(58335);var i=a(95976),n=a(29746),l=a(51884),r=a(12040),s=a(39053),u=a(51449),v=a(86635),o={__name:"TransferLimitIndex",setup(e){var t,{state:a,commit:o,dispatch:c}=(0,u.Pj)(),{appContext:g}=(0,i.nI)(),{$qzbankBridge:d}=null===g||void 0===g||null===(t=g.config)||void 0===t?void 0:t.globalProperties,f=navigator.userAgent.indexOf("Qzccbank")>-1,m=(0,s.rd)(),p=(0,r.KR)(),S=(0,i.EW)(()=>{var e;return null===(e=p.value)||void 0===e?void 0:e.AuthType}),k=(0,r.KR)(),h=(0,r.KR)(""),y=(0,i.EW)(()=>"0"==k.value&&"0"==h.value),b=(0,i.EW)(()=>"3"==S.value||"4"==S.value||"7"==S.value),L=()=>{o("transferSetting/clearTransferLimit"),"3"===S.value||"4"===S.value||"7"===S.value?m.push({path:"/TransferLimitSetting"}):l.l.alert({message:"仅允许开通以下任一种认证方式（1.蓝牙UKey；2.蓝牙UKey+手机证书；3.蓝牙UKey或手机短信）的客户修改单日累计笔数与年累计限额"}).then({})},C=()=>{o("transferSetting/clearSMSLimitRequest"),"1"===S.value||"7"===S.value?m.push({path:"/SMSTransferLimitSetting"}):l.l.alert({message:"没有开通手机短信认证方式"}).then({})},K=()=>{o("transferSetting/clearUKeyLimitRequest"),m.push({path:"/UKeyLimitSetting"})},I=()=>{y.value?(o("transferSetting/clearCertLimitRequest"),m.push({path:"/CertificateLimitSetting"})):l.l.alert({message:"未开通手机证书，请前往安全设置中开通手机证书"}).then({})};(0,i.sV)(()=>{c("transferSetting/getTransferLimitSetting"),_(),U()});var U=()=>{var e,t=navigator.userAgent.indexOf("Qzccbank")>-1;t?v.sendNativeInstrution("getUserAllData",{},e=>{var t=JSON.parse(e);if(h.value=null===t||void 0===t?void 0:t.CertState,"true"==(null===t||void 0===t?void 0:t.NetBankLoginStatus)){var a=null===t||void 0===t?void 0:t.netBankLoginInfo;p.value=a}null!==t&&void 0!==t&&t.SoftCertFlag&&(k.value=t.SoftCertFlag)}):p.value=null===(e=a.user)||void 0===e?void 0:e.pwebUser},_=()=>{f&&d.sendNativeInstrution("getPayegisDID",{type:"限额"},e=>{o("transferSetting/setPayegisDID",JSON.parse(e).s)})};return(e,t)=>{var a=(0,i.g2)("van-cell"),l=(0,i.g2)("content-box");return(0,i.uX)(),(0,i.Wv)(l,{class:"container",title:"转账限额设置"},{default:(0,i.k6)(()=>[t[0]||(t[0]=(0,i.Lk)("div",{class:"limit-setting-title"},"限额设置",-1)),(0,i.bF)(a,{class:"my-cell",title:"转账限额设置","is-link":"",onClick:L}),(0,i.bF)(a,{class:"my-cell",title:"短信限额设置","is-link":"",onClick:C}),(0,i.bo)((0,i.bF)(a,{class:"my-cell",title:"蓝牙UKey限额管理","is-link":"",onClick:K},null,512),[[n.aG,b.value]]),(0,i.bo)((0,i.bF)(a,{class:"my-cell",title:"手机证书限额管理","is-link":"",onClick:I},null,512),[[n.aG,y.value]])]),_:1})}}},c=a(1169);const g=(0,c.A)(o,[["__scopeId","data-v-77d1ea77"]]);var d=g}}]);