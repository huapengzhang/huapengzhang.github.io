"use strict";(self["webpackChunkharmony_transfer"]=self["webpackChunkharmony_transfer"]||[]).push([[985],{54985:function(n,e,a){a.r(e),a.d(e,{default:function(){return S}});var c=a(9424),t=a(698),i=(a(3362),a(27495),a(25440),a(18111),a(22489),a(95976)),r=a(29746),l=a(10160),o=a(12040),u=a(39053),s=a(51449),p=a(34568),v=["onClick"],d={class:"publicbox"},f={class:"publicBox_center"},b={class:"publicBox_top"},k={class:"publicBox_top_left"},A={class:"aliasName UncommonShow"},y={class:"publicBox_top_selected"},_={class:"publicBox_balance"},h={class:"publicBox_acNo"},m={__name:"AccountList",setup(n){var{state:e,commit:a}=(0,s.Pj)(),m=(0,o.KR)({});(0,i.sV)(()=>{setTimeout(()=>{C()},500)});var L=(0,o.KR)([]),C=()=>{var n={PrdId:"PBankInnerTransfer",AcNoName:"PayerAcNo"};(0,p.apiUserAcListQueryForMobile)(n).then(n=>{L.value=n.List,e.cancelTransfer.currentAccount?m.value=e.cancelTransfer.currentAccount:m.value=n.List[0]})},S=function(){var n=(0,t.A)(function*(n,e,a){a.stopPropagation(),n.balance||(n.balance=yield B(n)),n.isShow=e});return function(e,a,c){return n.apply(this,arguments)}}(),B=function(){var n=(0,t.A)(function*(n){var e={AcNo:n.id,BankAcType:n.bankAcType},a=yield(0,p.apiSavSubActsQryForMobile)(e),c=a.List,t=c.filter(function(n){if("CNY"===n.Currency)return n}),i=t[0],r=yield N(n,i);return r});return function(e){return n.apply(this,arguments)}}(),N=(n,e)=>new Promise(function(a,c){var t={AcNo:n.id,BankAcType:n.bankAcType,SubAcSeq:e.SubAcSeq,Currency:"CNY"};(0,p.apiSingleActBalQry)(t).then(n=>{a(n.AvailBal||"")}).catch(n=>{c(n)})}),T=(0,u.rd)(),x=function(){var n=(0,t.A)(function*(n){var e=yield B(n);a("cancelTransfer/setState",{key:"currentAccount",value:(0,c.A)((0,c.A)({},n),{},{balance:e})}),T.replace({path:"/TransferRecord"})});return function(e){return n.apply(this,arguments)}}();return(n,e)=>{var a=(0,i.g2)("van-icon"),c=(0,i.g2)("content-box");return(0,i.uX)(),(0,i.Wv)(c,{class:"containers",title:"选择转出账户"},{default:(0,i.k6)(()=>[(0,i.Lk)("div",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(L.value,c=>((0,i.uX)(),(0,i.CE)("div",{class:"content",key:c.id},[(0,i.Lk)("div",{class:"publicBox",onClick:(0,r.D$)(n=>x(c),["stop"])},[(0,i.Lk)("div",d,[(0,i.Lk)("div",f,[(0,i.Lk)("div",b,[(0,i.Lk)("div",k,[e[0]||(e[0]=(0,i.eW)(" 泉州银行 ",-1)),(0,i.Lk)("span",A,(0,l.v_)(c.aliasName),1),(0,i.bo)((0,i.bF)(a,{name:"eye-o",size:"12",onClick:n=>S(c,!1,n)},null,8,["onClick"]),[[r.aG,c.isShow]]),(0,i.bo)((0,i.bF)(a,{name:"closed-eye",size:"12",onClick:n=>S(c,!0,n)},null,8,["onClick"]),[[r.aG,!c.isShow]])]),(0,i.bo)((0,i.Lk)("div",y,null,512),[[r.aG,m.value.id==c.id]])]),(0,i.Lk)("div",_," 活期可用余额： "+(0,l.v_)(c.isShow?n.$filters.formatAmount(c.balance):"******"),1),(0,i.Lk)("div",h,(0,l.v_)(c.id),1)])])],8,v)]))),128))])]),_:1})}}},L=a(1169);const C=(0,L.A)(m,[["__scopeId","data-v-73dcf596"]]);var S=C}}]);