"use strict";(self["webpackChunkharmony_transfer"]=self["webpackChunkharmony_transfer"]||[]).push([[814],{96433:function(e,n,a){a.r(n),a.d(n,{default:function(){return g}});var t=a(9424),i=a(698),r=(a(3362),a(18111),a(22489),a(58335),a(95976)),c=a(29746),l=a(10160),o=a(12040),u=a(86635),s=a(39053),v=a(51449),d=a(34568),p=["onClick"],f={class:"publicbox"},b={class:"publicBox_center"},k={class:"publicBox_top"},y={class:"publicBox_top_left"},A={class:"aliasName UncommonShow"},L={class:"publicBox_top_selected"},_={class:"publicBox_balance"},m={class:"publicBox_acNo"},h={__name:"AccountList",setup(e){var{state:n,commit:a}=(0,v.Pj)(),h=(0,r.EW)(()=>{var e;return(null===(e=P.currentRoute.value.query)||void 0===e?void 0:e.moduleFlag)||"transfer"}),B=(0,r.EW)(()=>n.transfer.payerInfo),C=(0,o.KR)({}),g=(0,o.KR)(!0);(0,r.sV)(()=>{setTimeout(()=>{x()},500),N()});var N=()=>{var e=navigator.userAgent.indexOf("Qzccbank")>-1;e?u.sendNativeInstrution("getUserAllData",{},e=>{var n=JSON.parse(e);g.value=!(!n.netBankLoginInfo||"1"!=n.netBankLoginInfo.PrivacyFlag)}):g.value=!!n.user.PrivacyFlag},S=(0,o.KR)([]),x=()=>{(0,d.apiUserAcListQueryForMobile)({PrdId:"PBankInnerTransfer",AcNoName:"AcNo"}).then(e=>{S.value=e.List,"transfer"==h.value?B.value.id?C.value=B.value:C.value=e.List[0]:n[h.value].currentAccount?C.value=n[h.value].currentAccount:C.value=e.List[0]})},I=function(){var e=(0,i.A)(function*(e,n,a){a.stopPropagation(),e.balance||(e.balance=yield w(e)),e.isShow=n});return function(n,a,t){return e.apply(this,arguments)}}(),w=function(){var e=(0,i.A)(function*(e){var n=yield(0,d.apiSavSubActsQryForMobile)({AcNo:e.id,BankAcType:e.bankAcType}),a=n.List,t=a.filter(function(e){if("CNY"===e.Currency)return e}),i=t[0],r=yield F(e,i);return r});return function(n){return e.apply(this,arguments)}}(),F=(e,n)=>new Promise(function(a,t){(0,d.apiSingleActBalQry)({AcNo:e.id,BankAcType:e.bankAcType,SubAcSeq:n.SubAcSeq,Currency:"CNY"}).then(e=>{a(e.AvailBal||"")}).catch(e=>{t(e)})}),P=(0,s.rd)(),T=function(){var e=(0,i.A)(function*(e){var n=yield w(e);a("transfer/setPayerInfo",(0,t.A)((0,t.A)({},e),{},{balance:n})),P.go(-1)});return function(n){return e.apply(this,arguments)}}();return(e,n)=>{var a=(0,r.g2)("van-icon"),t=(0,r.g2)("content-box");return(0,r.uX)(),(0,r.Wv)(t,{class:"containers",title:"选择转出账户"},{default:(0,r.k6)(()=>[(0,r.Lk)("div",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(S.value,t=>((0,r.uX)(),(0,r.CE)("div",{class:"content",key:t.id},[(0,r.Lk)("div",{class:"publicBox",onClick:(0,c.D$)(e=>T(t),["stop"])},[(0,r.Lk)("div",f,[(0,r.Lk)("div",b,[(0,r.Lk)("div",k,[(0,r.Lk)("div",y,[n[0]||(n[0]=(0,r.eW)(" 泉州银行 ",-1)),(0,r.Lk)("span",A,(0,l.v_)(t.aliasName),1),(0,r.bo)((0,r.bF)(a,{name:"eye-o",size:"12",onClick:e=>I(t,!1,e)},null,8,["onClick"]),[[c.aG,t.isShow]]),(0,r.bo)((0,r.bF)(a,{name:"closed-eye",size:"12",onClick:e=>I(t,!0,e)},null,8,["onClick"]),[[c.aG,!t.isShow]])]),(0,r.bo)((0,r.Lk)("div",L,null,512),[[c.aG,C.value.id==t.id]])]),(0,r.Lk)("div",_," 活期可用余额： "+(0,l.v_)(t.isShow?e.$filters.formatAmount(t.balance):"******"),1),(0,r.Lk)("div",m,(0,l.v_)(g.value?e.$filters.encryptAcNo(t.id):t.id),1)])])],8,p)]))),128))])]),_:1})}}},B=a(1169);const C=(0,B.A)(h,[["__scopeId","data-v-186b46f0"]]);var g=C}}]);